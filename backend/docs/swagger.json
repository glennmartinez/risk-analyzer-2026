{
    "swagger": "2.0",
    "info": {
        "description": "A comprehensive API for document processing, analysis, and risk assessment",
        "title": "Risk Analyzer API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support",
            "url": "http://www.swagger.io/support",
            "email": "support@swagger.io"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/": {
            "get": {
                "description": "Returns a welcome message for the API server",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "general"
                ],
                "summary": "Home page",
                "responses": {
                    "200": {
                        "description": "Welcome to the Grok Server!",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/collections": {
            "get": {
                "description": "Get a list of all collections",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "collections"
                ],
                "summary": "List collections",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.CollectionsResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "Create a new vector collection",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "collections"
                ],
                "summary": "Create collection",
                "parameters": [
                    {
                        "description": "Collection request",
                        "name": "collection",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/services.CreateCollectionRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/handlers.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/collections/{name}": {
            "get": {
                "description": "Get detailed information about a collection",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "collections"
                ],
                "summary": "Get collection",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Collection name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/services.CollectionInfo"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete a collection and all its documents",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "collections"
                ],
                "summary": "Delete collection",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Collection name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.SuccessResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/collections/{name}/stats": {
            "get": {
                "description": "Get detailed statistics for a collection",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "collections"
                ],
                "summary": "Get collection statistics",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Collection name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.SuccessResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/documents": {
            "get": {
                "description": "Get a list of all documents",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "List documents",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.DocumentListResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/documents/upload": {
            "post": {
                "description": "Upload and process a document for vector storage",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Upload a document",
                "parameters": [
                    {
                        "type": "file",
                        "description": "Document file",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Collection name",
                        "name": "collection",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "semantic",
                        "description": "Chunking strategy",
                        "name": "chunking_strategy",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 512,
                        "description": "Chunk size",
                        "name": "chunk_size",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Chunk overlap",
                        "name": "chunk_overlap",
                        "in": "formData"
                    },
                    {
                        "type": "boolean",
                        "default": false,
                        "description": "Extract metadata",
                        "name": "extract_metadata",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 3,
                        "description": "Number of questions",
                        "name": "num_questions",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Max pages to process",
                        "name": "max_pages",
                        "in": "formData"
                    },
                    {
                        "type": "boolean",
                        "default": false,
                        "description": "Process asynchronously",
                        "name": "async",
                        "in": "formData"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/services.UploadDocumentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/documents/{id}": {
            "get": {
                "description": "Get document by ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Get document",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Document ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/repositories.Document"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete a document and all its chunks",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Delete document",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Document ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.SuccessResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/documents/{id}/chunks": {
            "get": {
                "description": "Get all chunks for a specific document from the vector store",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Get document chunks",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Document ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Collection name (optional, will use document's collection if not provided)",
                        "name": "collection",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 100,
                        "description": "Limit results",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Offset for pagination",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/services.GetDocumentChunksResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/documents/{id}/status": {
            "get": {
                "description": "Get the processing status of a document",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Get document status",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Document ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.StatusResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/search": {
            "get": {
                "description": "Perform a simple search using query parameters",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "search"
                ],
                "summary": "Simple search",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search query",
                        "name": "q",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Collection name",
                        "name": "collection",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "Number of results",
                        "name": "top_k",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "default": true,
                        "description": "Use cache",
                        "name": "use_cache",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/services.SearchResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "Perform vector similarity search across documents",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "search"
                ],
                "summary": "Search documents",
                "parameters": [
                    {
                        "description": "Search request",
                        "name": "query",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.SearchRequestBody"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/services.SearchResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/chat": {
            "post": {
                "description": "Send a message to the LLM and get a response",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "chat"
                ],
                "summary": "Chat with LLM",
                "parameters": [
                    {
                        "description": "Chat request with message and optional history",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.ChatRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.ChatResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/models.ChatResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/models.ChatResponse"
                        }
                    }
                }
            }
        },
        "/chat/rag": {
            "post": {
                "description": "Send a message to the LLM with automatic document retrieval for context",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "chat"
                ],
                "summary": "Chat with RAG (Retrieval-Augmented Generation)",
                "parameters": [
                    {
                        "description": "RAG chat request with message and optional RAG settings",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.RAGChatRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.RAGChatResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/models.RAGChatResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/models.RAGChatResponse"
                        }
                    }
                }
            }
        },
        "/documents/chunks": {
            "get": {
                "description": "DEPRECATED: Legacy endpoint. Get chunks from the vector store with pagination",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] Get document chunks",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "string",
                        "default": "documents",
                        "description": "Collection name",
                        "name": "collection_name",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by document ID",
                        "name": "document_id",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 100,
                        "description": "Maximum number of chunks",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Number of chunks to skip",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/documents/collection-stats": {
            "get": {
                "description": "DEPRECATED: Use /api/v1/collections/{name}/stats instead. Get statistics about the vector store collection",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] Get collection statistics",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "string",
                        "default": "documents",
                        "description": "Collection name",
                        "name": "collection_name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/documents/list": {
            "get": {
                "description": "DEPRECATED: Use /api/v1/documents instead. Get a list of all documents stored in the vector database",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] List all documents",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "string",
                        "default": "documents",
                        "description": "Collection name",
                        "name": "collection_name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/documents/process-example": {
            "post": {
                "description": "DEPRECATED: Legacy endpoint. Process the bundled example PDF through the full pipeline",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] Process example PDF",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "string",
                        "default": "sentence",
                        "description": "Chunking strategy",
                        "name": "chunking_strategy",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 512,
                        "description": "Chunk size",
                        "name": "chunk_size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Chunk overlap",
                        "name": "chunk_overlap",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "default": true,
                        "description": "Store in vector DB",
                        "name": "store_in_vector_db",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "default": "documents",
                        "description": "Collection name",
                        "name": "collection_name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/documents/upload": {
            "post": {
                "description": "DEPRECATED: Use /api/v1/documents/upload instead. Upload a PDF or document file and process it",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] Upload and process document",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "file",
                        "description": "Document file to upload",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "sentence",
                        "description": "Chunking strategy",
                        "name": "chunking_strategy",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 512,
                        "description": "Chunk size",
                        "name": "chunk_size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Chunk overlap",
                        "name": "chunk_overlap",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "default": false,
                        "description": "Store in vector DB",
                        "name": "store_in_vector_db",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "default": "documents",
                        "description": "Collection name",
                        "name": "collection_name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "Check if the server is healthy",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Health check endpoint",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.BasicResponse"
                        }
                    }
                }
            }
        },
        "/issues": {
            "get": {
                "description": "Returns a list of all issues from the configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "issues"
                ],
                "summary": "Get all issues",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.Issue"
                            }
                        }
                    }
                }
            }
        },
        "/issues/keywords-only": {
            "get": {
                "description": "Returns only keywords for all issues",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "issues"
                ],
                "summary": "Get keywords only",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 5,
                        "description": "Maximum keywords per issue",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/issues/with-keywords": {
            "get": {
                "description": "Returns issues enhanced with extracted keywords",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "issues"
                ],
                "summary": "Get issues with keywords",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "Maximum keywords per issue",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/handlers.IssueWithKeywords"
                            }
                        }
                    }
                }
            }
        },
        "/llm/health": {
            "get": {
                "description": "Check if the LLM service (LM Studio) is available",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "chat"
                ],
                "summary": "Check LLM health",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.ChatResponse"
                        }
                    },
                    "503": {
                        "description": "Service Unavailable",
                        "schema": {
                            "$ref": "#/definitions/models.ChatResponse"
                        }
                    }
                }
            }
        },
        "/search": {
            "get": {
                "description": "DEPRECATED: Use /api/v1/search instead. Search for similar chunks in the vector store",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] Search documents",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search query",
                        "name": "q",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "documents",
                        "description": "Collection name",
                        "name": "collection_name",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 5,
                        "description": "Number of results",
                        "name": "top_k",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/search/collections": {
            "get": {
                "description": "DEPRECATED: Use /api/v1/collections instead. Get all vector store collections",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] List search collections",
                "deprecated": true,
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/search/collections/{collection_name}": {
            "delete": {
                "description": "DEPRECATED: Use /api/v1/collections/{name} DELETE instead. Delete and reset a collection",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] Reset collection",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "string",
                        "description": "Collection name",
                        "name": "collection_name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/search/collections/{collection_name}/stats": {
            "get": {
                "description": "DEPRECATED: Use /api/v1/collections/{name}/stats instead. Get statistics for a specific collection",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] Get collection statistics",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "string",
                        "description": "Collection name",
                        "name": "collection_name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/search/query": {
            "get": {
                "description": "DEPRECATED: Use /api/v1/search instead. Perform a quick search across documents",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deprecated"
                ],
                "summary": "[DEPRECATED] Quick search documents",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search query",
                        "name": "q",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 5,
                        "description": "Number of results",
                        "name": "top_k",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Collection name",
                        "name": "collection",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by document ID",
                        "name": "document_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "handlers.CollectionsResponse": {
            "type": "object",
            "properties": {
                "collections": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "handlers.DocumentListResponse": {
            "type": "object",
            "properties": {
                "count": {
                    "type": "integer"
                },
                "documents": {}
            }
        },
        "handlers.ErrorResponse": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "status": {
                    "type": "integer"
                }
            }
        },
        "handlers.IssueWithKeywords": {
            "type": "object",
            "properties": {
                "components": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.Component"
                    }
                },
                "description": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "issue_type": {
                    "type": "string"
                },
                "keywords": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/services.KeywordResult"
                    }
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "handlers.SearchRequestBody": {
            "type": "object",
            "properties": {
                "collection": {
                    "type": "string"
                },
                "filter": {
                    "type": "object",
                    "additionalProperties": true
                },
                "min_score": {
                    "type": "number"
                },
                "query": {
                    "type": "string"
                },
                "top_k": {
                    "type": "integer"
                },
                "use_cache": {
                    "type": "boolean"
                }
            }
        },
        "handlers.StatusResponse": {
            "type": "object",
            "properties": {
                "document_id": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                }
            }
        },
        "handlers.SuccessResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                }
            }
        },
        "models.BasicResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                }
            }
        },
        "models.ChatMessage": {
            "type": "object",
            "properties": {
                "content": {
                    "description": "The message content",
                    "type": "string"
                },
                "role": {
                    "description": "\"user\", \"assistant\", or \"system\"",
                    "type": "string"
                }
            }
        },
        "models.ChatRequest": {
            "type": "object",
            "properties": {
                "history": {
                    "description": "Previous conversation history",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.ChatMessage"
                    }
                },
                "message": {
                    "description": "The current user message",
                    "type": "string"
                }
            }
        },
        "models.ChatResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "description": "The assistant's response",
                    "type": "string"
                },
                "status": {
                    "description": "\"success\" or \"error\"",
                    "type": "string"
                }
            }
        },
        "models.Component": {
            "type": "integer",
            "enum": [
                0,
                1,
                2,
                3,
                4,
                5,
                6,
                7
            ],
            "x-enum-varnames": [
                "Console",
                "BigRedButton",
                "LOC",
                "HotFixing",
                "Jenkins",
                "Builds",
                "ACLOS",
                "China"
            ]
        },
        "models.Issue": {
            "type": "object",
            "properties": {
                "components": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.Component"
                    }
                },
                "description": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "issue_type": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "models.RAGChatRequest": {
            "type": "object",
            "properties": {
                "collection_name": {
                    "description": "Vector DB collection to search (default: \"documents\")",
                    "type": "string"
                },
                "history": {
                    "description": "Previous conversation history",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.ChatMessage"
                    }
                },
                "max_chunks": {
                    "description": "Maximum chunks to retrieve (default: 3)",
                    "type": "integer"
                },
                "message": {
                    "description": "The current user message",
                    "type": "string"
                },
                "use_rag": {
                    "description": "Whether to use RAG (default: true)",
                    "type": "boolean"
                }
            }
        },
        "models.RAGChatResponse": {
            "type": "object",
            "properties": {
                "context": {
                    "description": "Retrieved document chunks used for context",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.RAGContextChunk"
                    }
                },
                "message": {
                    "description": "The assistant's response",
                    "type": "string"
                },
                "query": {
                    "description": "The search query used",
                    "type": "string"
                },
                "status": {
                    "description": "\"success\" or \"error\"",
                    "type": "string"
                }
            }
        },
        "models.RAGContextChunk": {
            "type": "object",
            "properties": {
                "metadata": {
                    "description": "Chunk metadata (document_id, page, etc.)",
                    "type": "object",
                    "additionalProperties": true
                },
                "score": {
                    "description": "Similarity score",
                    "type": "number"
                },
                "text": {
                    "description": "The chunk text content",
                    "type": "string"
                }
            }
        },
        "repositories.Chunk": {
            "type": "object",
            "properties": {
                "chunk_index": {
                    "type": "integer"
                },
                "document_id": {
                    "type": "string"
                },
                "embedding": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "id": {
                    "type": "string"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "page_number": {
                    "type": "integer"
                },
                "text": {
                    "type": "string"
                },
                "token_count": {
                    "type": "integer"
                }
            }
        },
        "repositories.Document": {
            "type": "object",
            "properties": {
                "chunk_count": {
                    "type": "integer"
                },
                "chunk_overlap": {
                    "type": "integer"
                },
                "chunk_size": {
                    "type": "integer"
                },
                "chunking_strategy": {
                    "description": "Processing metadata",
                    "type": "string"
                },
                "collection": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "document_id": {
                    "type": "string"
                },
                "extract_metadata": {
                    "type": "boolean"
                },
                "file_size": {
                    "type": "integer"
                },
                "filename": {
                    "type": "string"
                },
                "llm_model": {
                    "type": "string"
                },
                "llm_provider": {
                    "description": "LLM metadata",
                    "type": "string"
                },
                "max_pages": {
                    "type": "integer"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "num_questions": {
                    "type": "integer"
                },
                "status": {
                    "$ref": "#/definitions/repositories.DocumentStatus"
                },
                "stored_in_vector_db": {
                    "type": "boolean"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "repositories.DocumentStatus": {
            "type": "string",
            "enum": [
                "pending",
                "processing",
                "completed",
                "failed",
                "deleted"
            ],
            "x-enum-varnames": [
                "DocumentStatusPending",
                "DocumentStatusProcessing",
                "DocumentStatusCompleted",
                "DocumentStatusFailed",
                "DocumentStatusDeleted"
            ]
        },
        "services.CollectionInfo": {
            "type": "object",
            "properties": {
                "chunk_count": {
                    "type": "integer"
                },
                "document_count": {
                    "type": "integer"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "services.CreateCollectionRequest": {
            "type": "object",
            "properties": {
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "services.GetDocumentChunksResponse": {
            "type": "object",
            "properties": {
                "chunks": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/repositories.Chunk"
                    }
                },
                "collection": {
                    "type": "string"
                },
                "document_id": {
                    "type": "string"
                },
                "limit": {
                    "type": "integer"
                },
                "offset": {
                    "type": "integer"
                },
                "total_count": {
                    "type": "integer"
                }
            }
        },
        "services.KeywordResult": {
            "type": "object",
            "properties": {
                "frequency": {
                    "type": "integer"
                },
                "pos_tag": {
                    "type": "string"
                },
                "score": {
                    "type": "number"
                },
                "word": {
                    "type": "string"
                }
            }
        },
        "services.SearchResponse": {
            "type": "object",
            "properties": {
                "collection": {
                    "type": "string"
                },
                "embedding_time_ms": {
                    "type": "number"
                },
                "from_cache": {
                    "type": "boolean"
                },
                "query": {
                    "type": "string"
                },
                "results": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/services.SearchResult"
                    }
                },
                "search_time_ms": {
                    "type": "number"
                },
                "total_results": {
                    "type": "integer"
                }
            }
        },
        "services.SearchResult": {
            "type": "object",
            "properties": {
                "chunk_id": {
                    "type": "string"
                },
                "distance": {
                    "type": "number"
                },
                "document_id": {
                    "type": "string"
                },
                "document_name": {
                    "type": "string"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "score": {
                    "type": "number"
                },
                "text": {
                    "type": "string"
                }
            }
        },
        "services.UploadDocumentResponse": {
            "type": "object",
            "properties": {
                "chunk_count": {
                    "type": "integer"
                },
                "collection": {
                    "type": "string"
                },
                "document_id": {
                    "type": "string"
                },
                "filename": {
                    "type": "string"
                },
                "job_id": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "processing_time_ms": {
                    "type": "number"
                },
                "status": {
                    "type": "string"
                }
            }
        }
    },
    "externalDocs": {
        "description": "OpenAPI",
        "url": "https://swagger.io/resources/open-api/"
    }
}